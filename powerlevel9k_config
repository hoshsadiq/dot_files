# todo custom virtualenv

prompt_kubectl() {
  local context="$(kubectl config current-context 2>/dev/null)"

  if [ -z "$context" ]; then
    return
  fi

  if [[ "$context" == *"ppe"* ]]; then
    "$1_prompt_segment" "$0" "$2" "yellow" "black" "$context" 'SERVER_ICON'
  elif [[ "$context" == *"production"* ]]; then
    "$1_prompt_segment" "$0" "$2" "red" "black" "$context" 'SERVER_ICON'
  else
    "$1_prompt_segment" "$0" "$2" "green" "black" "$context" 'SERVER_ICON'
  fi
}

POWERLEVEL9K_MODE="awesome-patched"
POWERLEVEL9K_PROMPT_ON_NEWLINE=true
POWERLEVEL9K_PROMPT_ADD_NEWLINE=true


POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX="┌["
POWERLEVEL9K_MULTILINE_SECOND_PROMPT_PREFIX="└$ "

POWERLEVEL9K_LEFT_SEGMENT_SEPARATOR="]─["
POWERLEVEL9K_LEFT_SUBSEGMENT_SEPARATOR="]─["
POWERLEVEL9K_RIGHT_SEGMENT_SEPARATOR="["
POWERLEVEL9K_RIGHT_SUBSEGMENT_SEPARATOR="]─["

POWERLEVEL9K_SHORTEN_DIR_LENGTH=1
POWERLEVEL9K_STATUS_VERBOSE=false

POWERLEVEL9K_CUSTOM_KUBECTL="prompt_kubectl"

POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(status os_icon context dir vcs aws kubectl)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(root_indicator background_jobs history time)


POWERLEVEL9K_TIME_BACKGROUND='black'
POWERLEVEL9K_TIME_FOREGROUND='white'

POWERLEVEL9K_HISTORY_BACKGROUND='black'
POWERLEVEL9K_HISTORY_FOREGROUND='250'
