
# assumes setup.exe is in root folder
if [ "$OSTYPE" = "cygwin" ]; then
    alias cygsetup="cygstart /setup.exe"
fi

# Reload the shell completely
alias shreload="exec ${SHELL}"

# Default to human readable figures
alias df='df -h'
alias du='du -h'

# Misc
alias more='less'
alias nano='vim'
alias path='echo -e ${PATH//:/\\n}'

# Some shortcuts for different directory listings
alias lsd='ll | grep --color=never "^d"'
alias lla='ll -a'

# git
alias gits="git status"
alias gds="git diff --staged"

# Intuitive map function
# For example, to list all directories that contain a certain file:
# find . -name .gitattributes | map dirname
alias map="xargs -n1"

# IP stuff
# todo: Fix linux alternative
# todo: Add MacOS alternative
if [ "$OSTYPE" = "cygwin" ]; then
    alias ip="ipconfig | grep -v 127.0.0.1 | awk '/IPv4/ { print $NF }' | sed -e 's/^/\t\t/'"
else
    alias ip="ifconfig | grep "inet addr" | awk '{ print $3 }' | awk -F ':' '{ print $2 }'"
fi
alias extip='dig +short myip.opendns.com @resolver1.opendns.com'
alias ipinfo='curl ifconfig.me/all'

# This is GOLD for finding out what is taking so much space on your drives!
alias diskspace="du -S | sort -n -r | more"
# Show me the size (sorted) of only the folders in this directory
alias folders="find . -maxdepth 1 -type d -print | xargs du -sk | sort -rn"

# sometimes you're just not sure you want to delete something...
# assumes file exist. maybe create in install.sh?
# todo: Use ~/Trash for MacOS
alias trash='mv -t ~/.local/share/Trash/files --backup=t'

# Add an "alert" alias for long running commands.  Use like so:
#   sleep 10; alert
# todo: allow for MacOS
#if [[ "$OSTYPE" == "darwin"* ]]; then
#  alert() {
#    /usr/bin/osascript -e 'display notification system attribute "X"'
#  }
#else
  alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'
#fi

alias tolower='tr "[:upper:]" "[:lower:]"'
alias toupper='tr "[:lower:]" "[:upper:]"'
alias rmnl='awk '\''BEGIN{ORS="";} {print}'\'

# pyenv aliases
alias aws="$PYENV/awscli/bin/aws"
alias shyaml="$PYENV/shyaml/bin/shyaml"

# Docker aliases
alias sipcalc="docker run --rm sipcalc"

alias ecr_login='eval $(aws ecr get-login --no-include-email --region eu-west-1)'

# macOS has no `md5sum` and `sha1sum`, so fallback on `md5` and `shasum`
if [[ "$OSTYPE" == "darwin"* ]]; then
    command -v md5sum > /dev/null || alias md5sum="md5"
    command -v sha1sum > /dev/null || alias sha1sum="shasum"
fi

if command -v xdg-open >/dev/null 2>&1; then
  alias open="xdg-open"
fi
